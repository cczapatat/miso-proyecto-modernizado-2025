<div class="container">
  <h2 class="text-center title">{{ 'USER_CREATE.TITLE' | translate }}</h2>
  <div class="form-container">
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">

      <!-- Personal Information Section -->
      <div class="section-header">
        <h5 class="section-title">{{ 'USER_CREATE.PERSONAL_INFO' | translate }}</h5>
      </div>
      
      <div class="row mb-4">
        <div class="col-md-6">
          <div class="mb-3">
            <label for="user_name" class="form-label">{{ 'USER_CREATE.NAME' | translate }}</label>
            <input id="user_name" type="text" class="form-control" formControlName="name"
              [placeholder]="'USER_CREATE.NAME_PLACEHOLDER' | translate"
              [class.is-invalid]="isFieldInvalid(userForm, 'name')">
            <div id="user_name_error" *ngIf="isFieldInvalid(userForm, 'name')" class="text-danger mt-1">
              {{ getErrorMessage(userForm, 'name') | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="user_last_name" class="form-label">{{ 'USER_CREATE.LAST_NAME' | translate }}</label>
            <input id="user_last_name" type="text" class="form-control" formControlName="last_name"
              [placeholder]="'USER_CREATE.LAST_NAME_PLACEHOLDER' | translate"
              [class.is-invalid]="isFieldInvalid(userForm, 'last_name')">
            <div id="user_last_name_error" *ngIf="isFieldInvalid(userForm, 'last_name')" class="text-danger mt-1">
              {{ getErrorMessage(userForm, 'last_name') | translate }}
            </div>
          </div>
        </div>
      </div>

      <!-- Basic Measurements Section -->
      <div class="section-header">
        <h5 class="section-title">{{ 'USER_CREATE.BASIC_MEASUREMENTS' | translate }}</h5>
      </div>
      
      <div class="row mb-4">
        <div class="col-md-6">
          <div class="mb-3">
            <label for="user_age" class="form-label">{{ 'USER_CREATE.AGE' | translate }}</label>
            <input id="user_age" type="number" class="form-control" formControlName="age"
              [placeholder]="'USER_CREATE.AGE_PLACEHOLDER' | translate" min="1"
              [class.is-invalid]="isFieldInvalid(userForm, 'age')">
            <div id="user_age_error" *ngIf="isFieldInvalid(userForm, 'age')" class="text-danger mt-1">
              {{ getErrorMessage(userForm, 'age') | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="user_height" class="form-label">{{ 'USER_CREATE.HEIGHT' | translate }}</label>
            <input id="user_height" type="number" step="0.01" class="form-control" formControlName="height"
              [placeholder]="'USER_CREATE.HEIGHT_PLACEHOLDER' | translate" min="0.01"
              [class.is-invalid]="isFieldInvalid(userForm, 'height')">
            <div id="user_height_error" *ngIf="isFieldInvalid(userForm, 'height')" class="text-danger mt-1">
              {{ getErrorMessage(userForm, 'height') | translate }}
            </div>
          </div>
        </div>
      </div>

      <div class="row mb-4">
        <div class="col-md-6">
          <div class="mb-3">
            <label for="user_weight" class="form-label">{{ 'USER_CREATE.WEIGHT' | translate }}</label>
            <input id="user_weight" type="number" step="0.1" class="form-control" formControlName="weight"
              [placeholder]="'USER_CREATE.WEIGHT_PLACEHOLDER' | translate" min="0.1"
              [class.is-invalid]="isFieldInvalid(userForm, 'weight')">
            <div id="user_weight_error" *ngIf="isFieldInvalid(userForm, 'weight')" class="text-danger mt-1">
              {{ getErrorMessage(userForm, 'weight') | translate }}
            </div>
          </div>
        </div>
      </div>

      <!-- Body Measurements Section -->
      <div class="section-header">
        <h5 class="section-title">{{ 'USER_CREATE.BODY_MEASUREMENTS' | translate }}</h5>
      </div>
      
      <div class="row mb-4">
        <div class="col-md-6">
          <div class="mb-3">
            <label for="user_arm" class="form-label">{{ 'USER_CREATE.ARM' | translate }}</label>
            <input id="user_arm" type="number" step="0.1" class="form-control" formControlName="arm"
              [placeholder]="'USER_CREATE.ARM_PLACEHOLDER' | translate" min="0.1"
              [class.is-invalid]="isFieldInvalid(userForm, 'arm')">
            <div id="user_arm_error" *ngIf="isFieldInvalid(userForm, 'arm')" class="text-danger mt-1">
              {{ getErrorMessage(userForm, 'arm') | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="user_chest" class="form-label">{{ 'USER_CREATE.CHEST' | translate }}</label>
            <input id="user_chest" type="number" step="0.1" class="form-control" formControlName="chest"
              [placeholder]="'USER_CREATE.CHEST_PLACEHOLDER' | translate" min="0.1"
              [class.is-invalid]="isFieldInvalid(userForm, 'chest')">
            <div id="user_chest_error" *ngIf="isFieldInvalid(userForm, 'chest')" class="text-danger mt-1">
              {{ getErrorMessage(userForm, 'chest') | translate }}
            </div>
          </div>
        </div>
      </div>

      <div class="row mb-4">
        <div class="col-md-6">
          <div class="mb-3">
            <label for="user_waist" class="form-label">{{ 'USER_CREATE.WAIST' | translate }}</label>
            <input id="user_waist" type="number" step="0.1" class="form-control" formControlName="waist"
              [placeholder]="'USER_CREATE.WAIST_PLACEHOLDER' | translate" min="0.1"
              [class.is-invalid]="isFieldInvalid(userForm, 'waist')">
            <div id="user_waist_error" *ngIf="isFieldInvalid(userForm, 'waist')" class="text-danger mt-1">
              {{ getErrorMessage(userForm, 'waist') | translate }}
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="user_leg" class="form-label">{{ 'USER_CREATE.LEG' | translate }}</label>
            <input id="user_leg" type="number" step="0.1" class="form-control" formControlName="leg"
              [placeholder]="'USER_CREATE.LEG_PLACEHOLDER' | translate" min="0.1"
              [class.is-invalid]="isFieldInvalid(userForm, 'leg')">
            <div id="user_leg_error" *ngIf="isFieldInvalid(userForm, 'leg')" class="text-danger mt-1">
              {{ getErrorMessage(userForm, 'leg') | translate }}
            </div>
          </div>
        </div>
      </div>

      <!-- Buttons -->
      <div class="text-center">
        <div class="d-flex gap-3 justify-content-center">
          <button id="user_btn_cancel" type="button" class="btn cancel-btn" (click)="onCancel()">
            {{ 'USER_CREATE.CANCEL' | translate }}
          </button>
          <button id="user_btn_create" type="submit" class="btn create-btn"
            [disabled]="userForm.invalid || isSubmitting">
            <span *ngIf="isSubmitting" class="spinner-border spinner-border-sm me-2" role="status"></span>
            {{ 'USER_CREATE.CREATE' | translate }}
          </button>
        </div>
      </div>
    </form>
  </div>
</div>