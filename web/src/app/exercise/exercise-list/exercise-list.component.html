<div class="container-fluid col-md-8">
  <h2 class="text-center title" style="margin: 2rem 0;">{{ 'EXERCISE_LIST.TITLE' | translate }}</h2>

  <div class="row">
    <div class="col-md-9">
      <h2 class="title_second">{{ 'EXERCISE_LIST.EXERCISES' | translate }}</h2>
    </div>
    <div class="col-md-3">
      <button id="btn_go_exercise_create" class="btn btn-sm btn-primary col-md-12"
        (click)="navigate('/exercises/create')">{{ 'EXERCISE_LIST.CREATE_EXERCISE' | translate }}</button>
    </div>
  </div>

  <div class="row">
    <!-- Exercises Section (7 columns) -->
    <div class="col-md-12">

      <table id="exercisesTable" class="table custom-bordered-table">
        <thead>
          <tr>
            <th class="text-center">{{ 'EXERCISE_LIST.NAME' | translate }}</th>
            <th class="text-center">{{ 'EXERCISE_LIST.DESCRIPTION' | translate }}</th>
            <th class="text-center">{{ 'EXERCISE_LIST.CALORIES' | translate }}</th>
            <th class="text-center">{{ 'EXERCISE_LIST.YOUTUBE' | translate }}</th>
            <th class="text-center">
              {{ 'EXERCISE_LIST.ACTIONS' | translate }} 
              <i class="bi bi-info-circle" [title]="'EXERCISE_LIST.ACTIONS_INFO' | translate"></i>
            </th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngIf="exercisesPage.exercises.length > 0; else noExercises">
            <!-- Render Exercises -->
            <tr *ngFor="let exercise of exercisesPage.exercises">
              <td class="text-center fw-bold">{{ exercise.name }}</td>
              <td class="text-center description-cell" [title]="exercise.description">{{ exercise.description }}</td>
              <td class="text-center">{{ exercise.calories }}</td>
              <td class="text-center">
                <a [href]="exercise.youtube" target="_blank" rel="noopener noreferrer" class="youtube-link">
                  <i class="bi bi-youtube text-danger"></i> {{ 'EXERCISE_LIST.WATCH_VIDEO' | translate }}
                </a>
              </td>
              <td class="text-center">
                <div class="d-flex gap-2">
                  <button 
                    type="button" 
                    class="btn btn-outline-info btn-sm" 
                    [title]="'EXERCISE_LIST.VIEW' | translate"
                    (click)="viewExercise(exercise)">
                    <i class="bi bi-eye"></i>
                  </button>
                  <button 
                    type="button" 
                    class="btn btn-outline-warning btn-sm" 
                    [title]="'EXERCISE_LIST.EDIT' | translate"
                    (click)="editExercise(exercise)">
                    <i class="bi bi-pencil"></i>
                  </button>
                  <button 
                    type="button" 
                    class="btn btn-outline-danger btn-sm" 
                    [title]="'EXERCISE_LIST.DELETE' | translate"
                    (click)="deleteExercise(exercise)">
                    <i class="bi bi-trash"></i>
                  </button>
                </div>
              </td>
            </tr>

            <!-- Empty filler rows to keep table height consistent -->
            <tr *ngFor="let i of [].constructor(10 - exercisesPage.exercises.length)" class="empty-row">
              <td colspan="5">&nbsp;</td>
            </tr>
          </ng-container>

          <!-- Message when no exercises -->
          <ng-template #noExercises>
            <tr *ngFor="let i of [].constructor(4)" class="empty-row">
              <td colspan="5">&nbsp;</td>
            </tr>
            <tr class="empty-row">
              <td colspan="5" class="no-data-message align-middle text-muted fw-bold">{{ 'EXERCISE_LIST.EMPTY_LIST' |
                translate }}</td>
            </tr>
            <tr *ngFor="let i of [].constructor(5)" class="empty-row">
              <td colspan="5">&nbsp;</td>
            </tr>
          </ng-template>
        </tbody>
      </table>

      <div class="btn-group ">
        <!-- Previous -->
        <button class="pagination-button" [disabled]="exercisesPage.page <= 1" (click)="changeExercisePage(-1)">
          <i class="bi bi-arrow-left"></i>{{ 'EXERCISE_LIST.PREVIOUS' | translate }}
        </button>

        <!-- Page buttons -->
        <div class="inner-page-group">
          <button *ngFor="let page of getPaginationExercisePages(exercisesPage.page, exercisesPage.total_pages)"
            class="pagination-button" [ngClass]="{
              'active': page === exercisesPage.page,
              'ellipsis': page === '...'
            }" (click)="onClickExercisePage(page)" [disabled]="page === '...'">
            {{ page }}
          </button>
        </div>

        <!-- Next -->
        <button class="pagination-button" [disabled]="exercisesPage.page >= exercisesPage.total_pages"
          (click)="changeExercisePage(1)">
          {{ 'EXERCISE_LIST.NEXT' | translate }}<i class="bi bi-arrow-right"></i>
        </button>
      </div>
    </div>
  </div>
</div>